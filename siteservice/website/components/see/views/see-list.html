<div flex-gt-sm="80" flex="100" layout="column">
    <div class="breadcrumb-container">
        <p ng-bind="vm.userIdentifier"></p>
        <h1 translate='iyo_see'></h1>
    </div>
    <md-card>
        <md-card-content>
            <div class="loading-container" layout-align="center center" ng-if="!vm.loaded.documents">
                <md-progress-circular md-mode="indeterminate" md-diameter="50"></md-progress-circular>
            </div>
            <div ng-show="vm.loaded.documents">
                <p ng-show="!vm.documents.length" translate='no_see_documents'></p>
                <md-list>
                    <div ng-repeat="document in vm.documents track by document.uniqueid">
                        <div flex="100">
                            <div layout="row" layout-align="space-between none" class="border-top-light">
                                <md-list-item class="md-2-line">
                                    <div class="md-list-item-text">
                                        <h4>{{document.uniqueid }} - {{document.category }}
                                            <span ng-if="::document.signature" class="md-body-1 "><i
                                                class="fa fa-check green"></i></span>
                                        </h4>
                                        <h3><span
                                            ng-bind="::document.creation_date | date: 'd MMM y H:mm:ss'"></span>
                                        </h3>
                                        <p><span translate='version'>Version</span>: {{document.version}}</p>
                                    </div>
                                </md-list-item>
                                <md-list-item class="md-2-line">
                                    <div class="md-list-item-text">
                                        <p ng-if="::document.start_date"><span translate='start'>Start</span>: <span
                                            ng-bind="::document.start_date | date: 'd MMM y H:mm:ss'"></span></p>
                                        <p ng-if="::document.end_date"><span translate='end'>End</span>: <span
                                            ng-bind="::document.end_date | date: 'd MMM y H:mm:ss'"></span></p>
                                        <md-button class="md-primary md-secondary"
                                                   ui-sref="seeDetail({uniqueid: document.uniqueid})">
                                                <span aria-label="Details" translate-attr="{ 'aria-label': 'details' }"
                                                      translate='details'>Details</span>
                                        </md-button>
                                    </div>
                                </md-list-item>
                            </div>
                            <div ng-if="!document.isShowingFulldescription"
                                 btf-markdown="document.markdown_short_description"
                                 style="padding: 0 16px;"></div>
                            <div ng-if="document.isShowingFulldescription"
                                 btf-markdown="document.markdown_full_description"
                                 style="padding: 0 16px;"></div>
                            <md-button class="md-primary md-secondary" aria-label="Toogle full description"
                                       translate-attr="{ 'aria-label': 'toggle_full_description' }"
                                       ng-click="document.isShowingFulldescription = !document.isShowingFulldescription">
                                <span ng-if="!document.isShowingFulldescription"
                                      translate='show_full_description'></span>
                                <span ng-if="document.isShowingFulldescription"
                                      translate='hide_full_description'></span>
                            </md-button>
                        </div>
                    </div>
                </md-list>
            </div>
        </md-card-content>
    </md-card>
</div>
